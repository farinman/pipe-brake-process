<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_07bhyra" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="2.0.3">
  <bpmn:collaboration id="o23jo">
    <bpmn:documentation>Ist ein Spezialist trotz Eingreifen eines FM-MA nötig?
Wenn ja wird einer Kontaktiert, sonst ist der ganze Prozess beendet.</bpmn:documentation>
    <bpmn:participant id="Participant_0bq8zny" name="Rohrreparatur" processRef="Process_1" />
    <bpmn:participant id="AzureIotCentralParticipant" name="Azure IoT Central">
      <bpmn:documentation>Azure IoT Central erhält vom Arduino-Gerät Sensordaten.
 
Diese Daten können dann online visualisiert werden und auch kann man Anweisungen festlegen. (zum Beispiel wenn die Temperatur über 27° steigt, soll die Klimaanlage aktiviert werden) Aber auch können diese Anweisungen eine WebHook aufrufen und somit einen Prozess in der Camunda Engine Starten.</bpmn:documentation>
    </bpmn:participant>
    <bpmn:participant id="ParticleConsoleParticipant" name="Particle Console">
      <bpmn:documentation>Mit hilfe der Particle Console, kann man die Photon Arduino Geräte aktualisieren.

Die Particle Console wird über einen HTTP request angesprochen, um somit Aktuatoren zu steuern.</bpmn:documentation>
    </bpmn:participant>
    <bpmn:participant id="Participant_0ncytfd" name="Photon">
      <bpmn:documentation>Mit hilfe der Particle Console, kann man die Photon Arduino Geräte aktualisieren.

Die Particle Console wird über einen HTTP request angesprochen, um somit Aktuatoren zu steuern.</bpmn:documentation>
    </bpmn:participant>
    <bpmn:participant id="Participant_1hyvntw" name="Ticketsystem" />
    <bpmn:participant id="Participant_0saotw4" name="Microsoft Flow">
      <bpmn:documentation>Azure IoT Central erhält vom Arduino-Gerät Sensordaten.
 
Diese Daten können dann online visualisiert werden und auch kann man Anweisungen festlegen. (zum Beispiel wenn die Temperatur über 27° steigt, soll die Klimaanlage aktiviert werden) Aber auch können diese Anweisungen eine WebHook aufrufen und somit einen Prozess in der Camunda Engine Starten.</bpmn:documentation>
    </bpmn:participant>
    <bpmn:messageFlow id="MessageFlow_1afkpbn" name="Datentransfer" sourceRef="Participant_0ncytfd" targetRef="ParticleConsoleParticipant" />
    <bpmn:messageFlow id="MessageFlow_1eqy248" name="Code Deployment" sourceRef="ParticleConsoleParticipant" targetRef="Participant_0ncytfd">
      <bpmn:documentation>In diesem Schritt wird der Verwendete code an dem Arduino bereitgestellt.</bpmn:documentation>
    </bpmn:messageFlow>
    <bpmn:messageFlow id="MessageFlow_1pfj6g4" name="Sensordaten" sourceRef="Participant_0ncytfd" targetRef="AzureIotCentralParticipant">
      <bpmn:documentation>Hier werden die im Code festgehaltenen Sensordaten übermittelt.</bpmn:documentation>
    </bpmn:messageFlow>
    <bpmn:messageFlow id="MessageFlow_1wwz5tj" name="Anomaliemeldung senden über HTTP request" sourceRef="Participant_0saotw4" targetRef="StartEvent_1">
      <bpmn:documentation>Azure IoT Central hat eine Anomalie anhand der Festgelegten maximalen und minimalen Werten. 

Die Daten sollen folgendes beinhalten:

messbarerwert: long
idArduino: String
timestamp: String
arduinoName: String</bpmn:documentation>
    </bpmn:messageFlow>
    <bpmn:messageFlow id="iotCommand" name="Aktuator Befehl" sourceRef="Task_15872fw" targetRef="ParticleConsoleParticipant" />
    <bpmn:messageFlow id="MessageFlow_1f37mr9" sourceRef="Task_0rh19ch" targetRef="Participant_1hyvntw" />
    <bpmn:messageFlow id="MessageFlow_1369c3m" name="Funktionsaufruf" sourceRef="ParticleConsoleParticipant" targetRef="Participant_0ncytfd" />
    <bpmn:messageFlow id="MessageFlow_11284z8" name="REST Response" sourceRef="ParticleConsoleParticipant" targetRef="Task_15872fw" />
    <bpmn:messageFlow id="MessageFlow_0j4pbdq" name="Meldung Wasserkontakt" sourceRef="AzureIotCentralParticipant" targetRef="Participant_0saotw4" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1" isExecutable="true">
    <bpmn:laneSet id="LaneSet_1yxzku3">
      <bpmn:lane id="Lane_01xcbgc" name="WFMS">
        <bpmn:flowNodeRef>Task_10nf5r8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_0rh19ch</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>endOfProcess1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_0ysh6kz</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_0s1h1y3</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_1bl7p3f</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>contactSpecialistOrFmworker</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_15872fw</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_0skb82t</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_1b37syx</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_02r4afd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_1cd7fbu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_113rykk</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>closeWater</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Task_1f0ntdi</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ExclusiveGateway_1c9n0a2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>EndEvent_00pu4e8</bpmn:flowNodeRef>
        <bpmn:childLaneSet id="LaneSet_055334l">
          <bpmn:lane id="Lane_0xiwdzx" name="Controller">
            <bpmn:flowNodeRef>Task_10nf5r8</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_0rh19ch</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>ExclusiveGateway_0ysh6kz</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>contactSpecialistOrFmworker</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_15872fw</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>ExclusiveGateway_0skb82t</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_1b37syx</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>EndEvent_02r4afd</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_1cd7fbu</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_113rykk</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>ExclusiveGateway_1c9n0a2</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>EndEvent_00pu4e8</bpmn:flowNodeRef>
          </bpmn:lane>
          <bpmn:lane id="Lane_05wzx5v" name="Camunda">
            <bpmn:flowNodeRef>endOfProcess1</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_0s1h1y3</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>ExclusiveGateway_1bl7p3f</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>closeWater</bpmn:flowNodeRef>
            <bpmn:flowNodeRef>Task_1f0ntdi</bpmn:flowNodeRef>
          </bpmn:lane>
        </bpmn:childLaneSet>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="SequenceFlow_179l674" sourceRef="StartEvent_1" targetRef="Task_113rykk" />
    <bpmn:sequenceFlow id="SequenceFlow_0u5n2hy" sourceRef="Task_113rykk" targetRef="ExclusiveGateway_0ysh6kz" />
    <bpmn:sendTask id="Task_10nf5r8" name="Zuständige FM-MA finden" camunda:delegateExpression="${contactWorkersInAreaAdapter}">
      <bpmn:incoming>SequenceFlow_1ip7m4v</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_163jkoc</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sendTask id="Task_0rh19ch" name="&#10;&#10;Spezialistanfrage-Nachricht an &#10;Ticketsystem senden&#10;" camunda:delegateExpression="${sendSpecialistRequestToTicketSystemAdapter}">
      <bpmn:incoming>SequenceFlow_1qol59i</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13h94eh</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:endEvent id="endOfProcess1">
      <bpmn:incoming>SequenceFlow_00p700m</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1e7buif" sourceRef="ExclusiveGateway_1bl7p3f" targetRef="contactSpecialistOrFmworker" />
    <bpmn:sequenceFlow id="SequenceFlow_1ip7m4v" sourceRef="contactSpecialistOrFmworker" targetRef="Task_10nf5r8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${activity == "MF-MA"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1qol59i" sourceRef="contactSpecialistOrFmworker" targetRef="Task_0rh19ch">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${activity == "Specialist"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0737gr5" sourceRef="Task_1f0ntdi" targetRef="closeWater" />
    <bpmn:sequenceFlow id="SequenceFlow_0ub9lsf" sourceRef="Task_0s1h1y3" targetRef="ExclusiveGateway_1bl7p3f" />
    <bpmn:sequenceFlow id="SequenceFlow_03tf37k" sourceRef="ExclusiveGateway_0ysh6kz" targetRef="ExclusiveGateway_1c9n0a2">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${device.processStarted == TRUE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_04wl5c0" sourceRef="Task_1cd7fbu" targetRef="Task_0s1h1y3" />
    <bpmn:sequenceFlow id="SequenceFlow_163jkoc" sourceRef="Task_10nf5r8" targetRef="EndEvent_02r4afd" />
    <bpmn:sequenceFlow id="SequenceFlow_13h94eh" sourceRef="Task_0rh19ch" targetRef="EndEvent_02r4afd" />
    <bpmn:sequenceFlow id="SequenceFlow_1m4k68u" sourceRef="Task_15872fw" targetRef="ExclusiveGateway_0skb82t" />
    <bpmn:sequenceFlow id="SequenceFlow_0vrxfdo" sourceRef="ExclusiveGateway_0ysh6kz" targetRef="Task_1cd7fbu">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${device.processStarted == FALSE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0ysh6kz">
      <bpmn:incoming>SequenceFlow_0u5n2hy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0vrxfdo</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_03tf37k</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:businessRuleTask id="Task_0s1h1y3" name="Entscheiden Spezialist oder FM-MA" camunda:resultVariable="activity" camunda:decisionRef="decisionBuildingState" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>SequenceFlow_04wl5c0</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ub9lsf</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:parallelGateway id="ExclusiveGateway_1bl7p3f">
      <bpmn:incoming>SequenceFlow_0ub9lsf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1e7buif</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:exclusiveGateway id="contactSpecialistOrFmworker">
      <bpmn:incoming>SequenceFlow_1e7buif</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ip7m4v</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1qol59i</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0p1hc9w" sourceRef="closeWater" targetRef="Task_15872fw">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${riskMessage== 'closeWater'}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:extensionElements>
        <camunda:executionListener expression="${execution.setVariable(&#34;sentFrom&#34;, &#34;task@boullosa.ch&#34;)}" event="start" />
      </bpmn:extensionElements>
      <bpmn:outgoing>SequenceFlow_179l674</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_193hlgk" />
    </bpmn:startEvent>
    <bpmn:serviceTask id="Task_15872fw" name="Wasseranschluss schliessen" camunda:delegateExpression="${closeWaterAdapter}">
      <bpmn:documentation>Wenn</bpmn:documentation>
      <bpmn:incoming>SequenceFlow_0p1hc9w</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1m4k68u</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_0skb82t">
      <bpmn:incoming>SequenceFlow_1m4k68u</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_00p700m</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0doi3k5</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_00p700m" sourceRef="ExclusiveGateway_0skb82t" targetRef="endOfProcess1">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${waterClosed == FALSE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0doi3k5" sourceRef="ExclusiveGateway_0skb82t" targetRef="Task_1b37syx">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${waterClosed == FALSE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sendTask id="Task_1b37syx" name="Warnung an Ticketsystem senden" camunda:delegateExpression="${sendWarningToTicketSystemAdapter}">
      <bpmn:incoming>SequenceFlow_0doi3k5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13igvsi</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:sequenceFlow id="SequenceFlow_13igvsi" sourceRef="Task_1b37syx" targetRef="EndEvent_02r4afd" />
    <bpmn:endEvent id="EndEvent_02r4afd">
      <bpmn:incoming>SequenceFlow_13h94eh</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_163jkoc</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_13igvsi</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:serviceTask id="Task_1cd7fbu" name="Gebäde- und Wohnungsdaten ermitteln" camunda:delegateExpression="${getBuildingAndDwellingDataAdapter}">
      <bpmn:incoming>SequenceFlow_0vrxfdo</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_04wl5c0</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_113rykk" name="Daten des IoT-Gerät ermitteln" camunda:delegateExpression="${getDeviceDataAdapter}">
      <bpmn:incoming>SequenceFlow_179l674</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0u5n2hy</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="closeWater">
      <bpmn:incoming>SequenceFlow_0737gr5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0p1hc9w</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_17ahzy1" sourceRef="ExclusiveGateway_1c9n0a2" targetRef="Task_1f0ntdi">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${waterClosed == FALSE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:businessRuleTask id="Task_1f0ntdi" name="Überschwemmungsrisiko-Level berechnen" camunda:asyncAfter="true" camunda:resultVariable="riskMessage" camunda:decisionRef="floodingRisk" camunda:mapDecisionResult="singleEntry">
      <bpmn:incoming>SequenceFlow_17ahzy1</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0737gr5</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ltdz41" sourceRef="ExclusiveGateway_1c9n0a2" targetRef="EndEvent_00pu4e8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${waterClosed == TRUE}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1c9n0a2">
      <bpmn:incoming>SequenceFlow_03tf37k</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_17ahzy1</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ltdz41</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="EndEvent_00pu4e8">
      <bpmn:incoming>SequenceFlow_0ltdz41</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:message id="Message_193hlgk" name="Message_2s1m8of" />
  <bpmn:message id="Message_0s7xy8v" name="Message_1eakgs7" />
  <bpmn:message id="Message_0m6pf4i" name="Message_25f38i1" />
  <bpmn:message id="Message_11v5n0t" name="Message_3b37pt1" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="o23jo">
      <bpmndi:BPMNShape id="Participant_0bq8zny_di" bpmnElement="Participant_0bq8zny">
        <dc:Bounds x="168" y="430" width="1765" height="779" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0m7hos0_di" bpmnElement="AzureIotCentralParticipant">
        <dc:Bounds x="179" y="1412" width="609" height="84" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1x1tjnv_di" bpmnElement="ParticleConsoleParticipant">
        <dc:Bounds x="1420" y="1318" width="513" height="111" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0ncytfd_di" bpmnElement="Participant_0ncytfd">
        <dc:Bounds x="917" y="1272" width="331" height="204" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1afkpbn_di" bpmnElement="MessageFlow_1afkpbn">
        <di:waypoint x="1249" y="1415" />
        <di:waypoint x="1414" y="1415" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1298" y="1397" width="68" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1eqy248_di" bpmnElement="MessageFlow_1eqy248">
        <di:waypoint x="1417" y="1331" />
        <di:waypoint x="1248" y="1331" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1290" y="1313" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1pfj6g4_di" bpmnElement="MessageFlow_1pfj6g4">
        <di:waypoint x="916" y="1452" />
        <di:waypoint x="788" y="1452" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="790" y="1433" width="63" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_179l674_di" bpmnElement="SequenceFlow_179l674">
        <di:waypoint x="355" y="981" />
        <di:waypoint x="355" y="714" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1wwz5tj_di" bpmnElement="MessageFlow_1wwz5tj">
        <di:waypoint x="355" y="1272" />
        <di:waypoint x="355" y="1017" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="365" y="1083" width="88" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Lane_01xcbgc_di" bpmnElement="Lane_01xcbgc">
        <dc:Bounds x="198" y="430" width="1735" height="779" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_05xaikf_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="337" y="981" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="240" y="986" width="89" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_09fh5o1_di" bpmnElement="contactSpecialistOrFmworker" isMarkerVisible="true">
        <dc:Bounds x="1139" y="650" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ip7m4v_di" bpmnElement="SequenceFlow_1ip7m4v">
        <di:waypoint x="1189" y="675" />
        <di:waypoint x="1351" y="675" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1qol59i_di" bpmnElement="SequenceFlow_1qol59i">
        <di:waypoint x="1164" y="650" />
        <di:waypoint x="1164" y="558" />
        <di:waypoint x="1354" y="558" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ParallelGateway_1xxhr7d_di" bpmnElement="ExclusiveGateway_1bl7p3f">
        <dc:Bounds x="1139" y="974" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_03tf37k_di" bpmnElement="SequenceFlow_03tf37k">
        <di:waypoint x="665" y="700" />
        <di:waypoint x="665" y="782" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="671" y="739" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1e7buif_di" bpmnElement="SequenceFlow_1e7buif">
        <di:waypoint x="1164" y="974" />
        <di:waypoint x="1164" y="700" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0o5bau2_di" bpmnElement="Task_1cd7fbu">
        <dc:Bounds x="844" y="634" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_04wl5c0_di" bpmnElement="SequenceFlow_04wl5c0">
        <di:waypoint x="894" y="714" />
        <di:waypoint x="894" y="959" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_13h94eh_di" bpmnElement="SequenceFlow_13h94eh">
        <di:waypoint x="1454" y="558" />
        <di:waypoint x="1738" y="558" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_02r4afd_di" bpmnElement="EndEvent_02r4afd">
        <dc:Bounds x="1738" y="540" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_163jkoc_di" bpmnElement="SequenceFlow_163jkoc">
        <di:waypoint x="1451" y="674" />
        <di:waypoint x="1580" y="674" />
        <di:waypoint x="1580" y="558" />
        <di:waypoint x="1738" y="558" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0nlcxhw_di" bpmnElement="closeWater" isMarkerVisible="true">
        <dc:Bounds x="983" y="1057" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0737gr5_di" bpmnElement="SequenceFlow_0737gr5">
        <di:waypoint x="665" y="1039" />
        <di:waypoint x="665" y="1082" />
        <di:waypoint x="983" y="1082" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1sxi2eh_di" bpmnElement="iotCommand">
        <di:waypoint x="1430" y="847" />
        <di:waypoint x="1430" y="1318" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1340" y="1085" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_05vh8gd_di" bpmnElement="endOfProcess1">
        <dc:Bounds x="1800" y="981" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1m4k68u_di" bpmnElement="SequenceFlow_1m4k68u">
        <di:waypoint x="1513" y="807" />
        <di:waypoint x="1571" y="807" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BusinessRuleTask_0xmy2q9_di" bpmnElement="Task_0s1h1y3">
        <dc:Bounds x="844" y="959" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ub9lsf_di" bpmnElement="SequenceFlow_0ub9lsf">
        <di:waypoint x="944" y="999" />
        <di:waypoint x="1139" y="999" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="BusinessRuleTask_0wr3pjy_di" bpmnElement="Task_1f0ntdi">
        <dc:Bounds x="615" y="959" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_0tb7uww_di" bpmnElement="Task_10nf5r8">
        <dc:Bounds x="1351" y="635" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1hyvntw_di" bpmnElement="Participant_1hyvntw">
        <dc:Bounds x="823" y="251" width="609" height="84" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="SendTask_1naisqh_di" bpmnElement="Task_0rh19ch">
        <dc:Bounds x="1354" y="518" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1f37mr9_di" bpmnElement="MessageFlow_1f37mr9">
        <di:waypoint x="1404" y="518" />
        <di:waypoint x="1404" y="335" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0u5n2hy_di" bpmnElement="SequenceFlow_0u5n2hy">
        <di:waypoint x="405" y="674" />
        <di:waypoint x="640" y="675" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ExclusiveGateway_0ysh6kz_di" bpmnElement="ExclusiveGateway_0ysh6kz" isMarkerVisible="true">
        <dc:Bounds x="640" y="650" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="658" y="619" width="16" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0vrxfdo_di" bpmnElement="SequenceFlow_0vrxfdo">
        <di:waypoint x="690" y="675" />
        <di:waypoint x="767" y="674" />
        <di:waypoint x="844" y="674" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Lane_0xiwdzx_di" bpmnElement="Lane_0xiwdzx">
        <dc:Bounds x="228" y="430" width="1705" height="440" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_05wzx5v_di" bpmnElement="Lane_05wzx5v">
        <dc:Bounds x="228" y="870" width="1705" height="339" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0p1hc9w_di" bpmnElement="SequenceFlow_0p1hc9w">
        <di:waypoint x="1033" y="1082" />
        <di:waypoint x="1289" y="1082" />
        <di:waypoint x="1289" y="807" />
        <di:waypoint x="1413" y="807" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1369c3m_di" bpmnElement="MessageFlow_1369c3m">
        <di:waypoint x="1417" y="1374" />
        <di:waypoint x="1248" y="1374" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1292" y="1356" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_11284z8_di" bpmnElement="MessageFlow_11284z8">
        <di:waypoint x="1486" y="1313" />
        <di:waypoint x="1486" y="847" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1498" y="1082" width="82" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0067pqk_di" bpmnElement="Task_15872fw">
        <dc:Bounds x="1413" y="767" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_0skb82t_di" bpmnElement="ExclusiveGateway_0skb82t" isMarkerVisible="true">
        <dc:Bounds x="1571" y="782" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_00p700m_di" bpmnElement="SequenceFlow_00p700m">
        <di:waypoint x="1621" y="807" />
        <di:waypoint x="1818" y="807" />
        <di:waypoint x="1818" y="981" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0doi3k5_di" bpmnElement="SequenceFlow_0doi3k5">
        <di:waypoint x="1596" y="782" />
        <di:waypoint x="1596" y="707" />
        <di:waypoint x="1706" y="707" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SendTask_12n3uyo_di" bpmnElement="Task_1b37syx">
        <dc:Bounds x="1706" y="667" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_13igvsi_di" bpmnElement="SequenceFlow_13igvsi">
        <di:waypoint x="1756" y="667" />
        <di:waypoint x="1756" y="576" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0saotw4_di" bpmnElement="Participant_0saotw4">
        <dc:Bounds x="179" y="1272" width="609" height="84" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0j4pbdq_di" bpmnElement="MessageFlow_0j4pbdq">
        <di:waypoint x="357" y="1411" />
        <di:waypoint x="357" y="1356" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="368" y="1369" width="73" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1tp0d15_di" bpmnElement="Task_113rykk">
        <dc:Bounds x="305" y="634" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1c9n0a2_di" bpmnElement="ExclusiveGateway_1c9n0a2" isMarkerVisible="true">
        <dc:Bounds x="640" y="782" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_17ahzy1_di" bpmnElement="SequenceFlow_17ahzy1">
        <di:waypoint x="665" y="832" />
        <di:waypoint x="665" y="959" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="639" y="910" width="88" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_00pu4e8_di" bpmnElement="EndEvent_00pu4e8">
        <dc:Bounds x="749" y="789" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ltdz41_di" bpmnElement="SequenceFlow_0ltdz41">
        <di:waypoint x="690" y="807" />
        <di:waypoint x="749" y="807" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
